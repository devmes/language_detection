services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  Lochmueller\LanguageDetection\:
    resource: '../Classes/*'

  Lochmueller\LanguageDetection\Check\EnableListener:
    tags:
      - name: event.listener
        after: 'languageDetectionSite'
        identifier: 'languageDetectionEnable'
        event: Lochmueller\LanguageDetection\Event\CheckLanguageDetection

  Lochmueller\LanguageDetection\Check\BotListener:
    tags:
      - name: event.listener
        after: 'languageDetectionEnable'
        identifier: 'languageDetectionBot'
        event: Lochmueller\LanguageDetection\Event\CheckLanguageDetection

  Lochmueller\LanguageDetection\Check\FromCurrentPageListener:
    tags:
      - name: event.listener
        after: 'languageDetectionEnable'
        identifier: 'languageDetectionFromCurrentPage'
        event: Lochmueller\LanguageDetection\Event\CheckLanguageDetection

  Lochmueller\LanguageDetection\Check\WorkspacePreviewListener:
    tags:
      - name: event.listener
        after: 'languageDetectionEnable'
        identifier: 'languageDetectionWorkspacePreview'
        event: Lochmueller\LanguageDetection\Event\CheckLanguageDetection

  Lochmueller\LanguageDetection\Check\PathListener:
    tags:
      - name: event.listener
        after: 'languageDetectionEnable'
        identifier: 'languageDetectionPath'
        event: Lochmueller\LanguageDetection\Event\CheckLanguageDetection

  Lochmueller\LanguageDetection\Check\BackendUserListener:
    tags:
      - name: event.listener
        after: 'languageDetectionEnable'
        identifier: 'languageDetectionBackendUser'
        event: Lochmueller\LanguageDetection\Event\CheckLanguageDetection

  Lochmueller\LanguageDetection\Check\RequestMethodListener:
    tags:
      - name: event.listener
        after: 'languageDetectionEnable'
        identifier: 'languageDetectionRequestMethod'
        event: Lochmueller\LanguageDetection\Event\CheckLanguageDetection

  Lochmueller\LanguageDetection\Negotiation\DefaultNegotiation:
    tags:
      - name: event.listener
        identifier: 'defaultNegotiation'
        event: Lochmueller\LanguageDetection\Event\NegotiateSiteLanguage

  Lochmueller\LanguageDetection\Negotiation\FallbackNegotiation:
    tags:
      - name: event.listener
        identifier: 'fallbackNegotiation'
        after: 'defaultNegotiation'
        event: Lochmueller\LanguageDetection\Event\NegotiateSiteLanguage

  Lochmueller\LanguageDetection\Detect\BrowserLanguage:
    tags:
      - name: event.listener
        identifier: 'browserLanguage'
        event: Lochmueller\LanguageDetection\Event\DetectUserLanguages

  Lochmueller\LanguageDetection\Detect\IpLanguage:
    tags:
      - name: event.listener
        identifier: 'ipLanguage'
        after: 'browserLanguage'
        event: Lochmueller\LanguageDetection\Event\DetectUserLanguages

  Lochmueller\LanguageDetection\Response\DefaultResponse:
    tags:
      - name: event.listener
        identifier: 'defaultResponse'
        event: Lochmueller\LanguageDetection\Event\BuildResponse
